<div class="container-fluid tile-container">
    <h3 style="margin-top:0px; text-transform:capitalize;">{{houseData.name}}'s House Statistics</h3>
    <script type="text/ng-template" id="member-statistics.html">
        <div class="panel {{panelClass || 'panel-default'}}">
            <div class="panel-heading user-box">
                <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading">
                    <h4 class="panel-title">
                        <span ng-class="{'text-muted': isDisabled}">{{heading}}</span>
                    </h4>
                </a>
            </div>
            <div class="panel-collapse collapse" uib-collapse="!isOpen">
                <div class="panel-body" style="text-align: center" ng-transclude></div>
            </div>
        </div>
    </script>
    
    <div class="row">
        <div class="col-xs-12 col-sm-4 col-sm-push-8" ng-controller="HouseChartsController">
            <uib-accordion close-others="false">
                <uib-accordion-group heading="Day-to-day activity" ng-init="isOpen = true" is-open="isOpen" template-url="member-statistics.html">
                    <canvas ng-if="$parent.isOpen" id="houseChart2" class="chart chart-line" chart-data="chart2Data" chart-labels="chart2Labels" chart-series="chart2Series" chart-options="options" width="250px;" chart-legend="true"></canvas>
                </uib-accordion-group>
                
                <uib-accordion-group heading="Overall task distribution" template-url="member-statistics.html">
                    <canvas ng-if="$parent.isOpen" id="houseChart3" class="chart chart-radar" chart-data="chart3Data" chart-labels="chart3Labels" chart-series="chart3Series" chart-options="options" width="250px;" chart-legend="true"></canvas>
                </uib-accordion-group>
            </uib-accordion>
        </div>
        
        <div class="col-xs-12 col-sm-8 col-sm-pull-4">
            <uib-accordion close-others="true">
                <uib-accordion-group is-open="$first" ng-repeat="(id, member) in houseData.users" template-url="member-statistics.html">
                    <uib-accordion-heading>
                        <img ng-src="/requests/avatar/{{id}}" alt="" width="32" height="32">
                        <span>{{member.firstName}} {{member.lastName}}</span>
                    </uib-accordion-heading>
                    <div class="row" ng-controller="MemberChartsController" ng-if="$parent.isOpen">
                        <div class="col-sm-6 col-xs-12">
                            <div class="panel-heading">
                                <h4>Task events per task</h4></div>
                                <canvas id="analysisUserChartTaskEventPerTask" class="chart chart-doughnut" chart-data="data" chart-labels="labels" chart-options="options" width="250px;" chart-legend="true"></canvas>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <div class="panel-heading">
                                <h4>Feedback on tasks</h4></div>
                                <canvas id="chart2" class="chart chart-bar" chart-data="dataBar" chart-labels="labelsBar" chart-series="seriesNames" chart-options="options" width="250px;" chart-legend="true" chart-colours="colorsBar"></canvas>
                        </div>
                    </div>
                </uib-accordion-group>
            </uib-accordion>
        </div>
        
    </div>
    
</div>